<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CB6EM1NYGK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RWGJDB5FRD');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­£åœ¨åŠ è½½ - æ—å®‡æ¬£</title>
    <style>
        /* åŠ è½½é¡µé¢çš„æ ·å¼ */
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #F2EFE9 0%, #e8e4de 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Noto Sans SC', sans-serif;
            overflow: hidden;
        }

        .loader-container {
            text-align: center;
            max-width: 500px;
            padding: 40px;
        }

        /* æ—‹è½¬åŠ¨ç”» */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        .loader {
            width: 80px;
            height: 80px;
            margin: 0 auto 40px;
            position: relative;
        }

        .loader-circle {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 3px solid transparent;
            border-radius: 50%;
        }

        .loader-circle-1 {
            border-top-color: #8E9775;
            animation: spin 2s linear infinite;
        }

        .loader-circle-2 {
            border-right-color: #D4A373;
            animation: spin 1.5s linear infinite reverse;
        }

        .loader-circle-3 {
            border-bottom-color: #4A4E69;
            width: 60px;
            height: 60px;
            top: 10px;
            left: 10px;
            animation: spin 1s linear infinite;
        }

        .loader-content {
            animation: fadeIn 1s ease-out;
        }

        h1 {
            color: #4A4E69;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            color: #8E9775;
            font-size: 1.2rem;
            margin-bottom: 50px;
            opacity: 0.8;
        }

        .progress-container {
            width: 300px;
            height: 6px;
            background: rgba(142, 151, 117, 0.2);
            border-radius: 3px;
            margin: 30px auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #8E9775, #D4A373);
            border-radius: 3px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .percentage-container {
            margin-top: 15px;
            margin-bottom: 40px;
        }

        .percentage-text {
            font-size: 3rem;
            font-weight: 700;
            color: #D4A373;
            text-shadow: 0 2px 10px rgba(212, 163, 115, 0.2);
            letter-spacing: -1px;
        }

        .percentage-label {
            font-size: 1rem;
            color: #8E9775;
            margin-top: 5px;
            font-weight: 500;
        }

        .skip-btn {
            background: rgba(142, 151, 117, 0.1);
            border: 1px solid rgba(142, 151, 117, 0.3);
            color: #8E9775;
            padding: 10px 25px;
            border-radius: 25px;
            margin-top: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: none;
            outline: none;
            font-family: inherit;
            font-weight: 500;
        }

        .skip-btn:hover {
            background: rgba(142, 151, 117, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(142, 151, 117, 0.1);
        }

        /* æ·¡å‡ºåŠ¨ç”» */
        .fade-out {
            animation: fadeOut 0.8s ease forwards;
        }

        /* è¯­è¨€åˆ‡æ¢æ ·å¼ */
        .lang-zh { display: block; }
        .lang-en { display: none; }
        body.en-mode .lang-zh { display: none; }
        body.en-mode .lang-en { display: block; }

        /* è¯­è¨€åˆ‡æ¢æŒ‰é’® */
        .lang-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(142, 151, 117, 0.3);
            color: #8E9775;
            padding: 6px 12px;
            border-radius: 16px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .lang-switcher:hover {
            background: rgba(142, 151, 117, 0.2);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .loader-container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
                margin-bottom: 40px;
            }
            
            .percentage-text {
                font-size: 2.5rem;
            }
            
            .progress-container {
                width: 250px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .percentage-text {
                font-size: 2rem;
            }
            
            .progress-container {
                width: 200px;
            }
            
            .loader {
                width: 60px;
                height: 60px;
                margin-bottom: 30px;
            }
            
            .loader-circle-3 {
                width: 45px;
                height: 45px;
                top: 7.5px;
                left: 7.5px;
            }
        }
    </style>
</head>
<body>
    <!-- è¯­è¨€åˆ‡æ¢æŒ‰é’® -->
    <button class="lang-switcher" onclick="toggleLanguage()">
        <span class="lang-zh">EN</span>
        <span class="lang-en">ä¸­æ–‡</span>
    </button>

    <div class="loader-container" id="loaderContainer">
        <div class="loader">
            <div class="loader-circle loader-circle-1"></div>
            <div class="loader-circle loader-circle-2"></div>
            <div class="loader-circle loader-circle-3"></div>
        </div>
        
        <div class="loader-content">
            <h1>
                <span class="lang-zh">å¾ˆé«˜å…´è®¤è¯†æ‚¨^_^</span>
                <span class="lang-en">Nice to meet you ~</span>
            </h1>
            <div class="subtitle">
                <span class="lang-zh">æ¬¢è¿æ¥åˆ°æ—å®‡æ¬£çš„å°å¤©åœ°~ğŸ¡</span>
                <span class="lang-en">Welcome to Lucy's corner! ğŸ¡</span>
            </div>
            
            <!-- è¿›åº¦æ¡ -->
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <!-- ç™¾åˆ†æ¯”æ˜¾ç¤º -->
            <div class="percentage-container">
                <div class="percentage-text" id="percentageText">0%</div>
                <div class="percentage-label">
                    <span class="lang-zh">åŠ è½½è¿›åº¦</span>
                    <span class="lang-en">Loading Progress</span>
                </div>
            </div>
            
            <!-- è·³è¿‡æŒ‰é’® -->
            <button class="skip-btn" onclick="skipLoading()">
                <span class="lang-zh">è·³è¿‡åŠ è½½</span>
                <span class="lang-en">Skip Loading</span>
            </button>
        </div>
    </div>

    <script>
        // è¯­è¨€åˆ‡æ¢åŠŸèƒ½
        function toggleLanguage() {
            document.body.classList.toggle('en-mode');
            const isEn = document.body.classList.contains('en-mode');
            localStorage.setItem('language', isEn ? 'en' : 'zh');
        }

        // åŠ è½½è¿›åº¦æ¨¡æ‹Ÿ
        let progress = 0;
        let isCompleting = false;
        const progressBar = document.getElementById('progressBar');
        const percentageText = document.getElementById('percentageText');
        const loaderContainer = document.getElementById('loaderContainer');
        
        // åŠ¨æ€æ›´æ–°ç™¾åˆ†æ¯”
        function updateProgress() {
            if (isCompleting) return;
            
            // ä½¿ç”¨ç¼“åŠ¨å‡½æ•°è®©è¿›åº¦æ›´è‡ªç„¶
            const increment = easeInOutCubic(progress/100) * 15 + 2;
            progress = Math.min(progress + increment, 100);
            
            // æ›´æ–°è¿›åº¦æ¡å’Œç™¾åˆ†æ¯”
            progressBar.style.width = progress + '%';
            percentageText.textContent = Math.round(progress) + '%';
            
            // æ£€æŸ¥æ˜¯å¦å®Œæˆ
            if (progress >= 100) {
                completeLoading();
                return;
            }
            
            // åŠ¨æ€è°ƒæ•´æ›´æ–°é€Ÿåº¦ï¼ˆå¼€å§‹å¿«ï¼Œåé¢æ…¢ï¼‰
            const baseDelay = 100;
            const slowFactor = (100 - progress) / 100; // 0-1ï¼Œè¶Šæ¥è¿‘100è¶Šå°
            const delay = baseDelay * (0.5 + slowFactor * 0.5);
            
            // è®¾ç½®ä¸‹ä¸€æ¬¡æ›´æ–°
            setTimeout(updateProgress, delay);
        }
        
        // ç¼“åŠ¨å‡½æ•° - è®©åŠ¨ç”»æ›´è‡ªç„¶
        function easeInOutCubic(x) {
            return x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;
        }
        
function completeLoading() {
    if (isCompleting) return;
    isCompleting = true;
    
    // ç¡®ä¿è¿›åº¦æ¡å’Œç™¾åˆ†æ¯”éƒ½æ˜¾ç¤º100%
    progressBar.style.width = '100%';
    percentageText.textContent = '100%';
    
    // æ·»åŠ æ·¡å‡ºåŠ¨ç”»
    setTimeout(() => {
        loaderContainer.classList.add('fade-out');
    }, 300);
    
    // å»¶è¿Ÿè·³è½¬ï¼Œè®©ç”¨æˆ·çœ‹åˆ°å®ŒæˆçŠ¶æ€
    setTimeout(() => {
        window.location.href = "index.html?from=loading";
    }, 800);
}        
function skipLoading() {
    if (isCompleting) return;
    isCompleting = true;
    
    // ç«‹å³å®Œæˆè¿›åº¦
    progress = 100;
    progressBar.style.width = '100%';
    percentageText.textContent = '100%';
    
    // å¿«é€Ÿæ·¡å‡ºåŠ¨ç”»
    setTimeout(() => {
        loaderContainer.classList.add('fade-out');
    }, 150);
    
    // å¿«é€Ÿè·³è½¬
    setTimeout(() => {
        window.location.href = "index.html?from=loading";
    }, 300);
}
        
        // åˆå§‹åŒ–åŠ è½½
        function initLoading() {
            // æ£€æŸ¥ä¿å­˜çš„è¯­è¨€è®¾ç½®
            const savedLang = localStorage.getItem('language');
            if (savedLang === 'en') {
                document.body.classList.add('en-mode');
            }
            
            // å»¶è¿Ÿå¼€å§‹åŠ è½½ï¼Œè®©ç”¨æˆ·èƒ½çœ‹åˆ°åˆå§‹çŠ¶æ€
            setTimeout(() => {
                updateProgress();
            }, 500);
            
            // è¶…æ—¶ä¿æŠ¤ï¼ˆ8ç§’åå¼ºåˆ¶è·³è½¬ï¼‰
            setTimeout(() => {
                if (!isCompleting) {
                    completeLoading();
                }
            }, 8000);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹
        document.addEventListener('DOMContentLoaded', initLoading);
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', (event) => {
            // æŒ‰ESCé”®è·³è¿‡åŠ è½½
            if (event.key === 'Escape') {
                skipLoading();
            }
            // æŒ‰ç©ºæ ¼é”®åŠ é€ŸåŠ è½½ï¼ˆæµ‹è¯•ç”¨ï¼‰
            if (event.key === ' ' && !isCompleting) {
                progress = Math.min(progress + 20, 100);
                progressBar.style.width = progress + '%';
                percentageText.textContent = Math.round(progress) + '%';
                if (progress >= 100) completeLoading();
                event.preventDefault(); // é˜²æ­¢ç©ºæ ¼é”®æ»šåŠ¨é¡µé¢
            }
        });
        
        // ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®ä¹Ÿå¯è·³è¿‡ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰
        document.addEventListener('click', (event) => {
            if (event.target === document.body || event.target === loaderContainer) {
                skipLoading();
            }
        });
    </script>
</body>
</html>
